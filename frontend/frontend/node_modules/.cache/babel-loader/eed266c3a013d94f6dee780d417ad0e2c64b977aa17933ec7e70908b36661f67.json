{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      games: [],\n      addGameForm: {\n        title: '',\n        genre: '',\n        played: []\n      },\n      editForm: {\n        id: '',\n        title: '',\n        genre: '',\n        played: []\n      }\n    };\n  },\n  message: '',\n  methods: {\n    // 1 GET METHOD\n    getGames() {\n      const path = 'http://localhost:8000/games';\n      axios.get(path).then(res => {\n        this.games = res.data.games;\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n    // 2 Add Game Button\n    addGame(payload) {\n      const path = 'http://localhost:8000/games';\n      axios.post(path, payload).then(() => {\n        this.getGames();\n\n        // for message alert\n        this.message = 'Game added üïπÔ∏è !';\n\n        // to show message when game is added\n        this.showMessage = true;\n      }).catch(error => {\n        console.log(error);\n        this.getGames();\n      });\n    },\n    // 5 initForm - add ediForm after the update method\n    initForm() {\n      this.addGameForm.title = '';\n      this.addGameForm.genre = '';\n      this.addGameForm.played = [];\n      this.editForm.id = '';\n      this.editForm.title = '';\n      this.editForm.genre = '';\n      this.editForm.played = [];\n    },\n    // 3 Submit form validator in the template @submit=\"onSubmit\"  \n    onSubmit(e) {\n      e.preventDefault();\n      this.$refs.addGameModal.hide();\n      let played = false;\n      if (this.addGameForm.played[0]) played = true;\n      const payload = {\n        title: this.addGameForm.title,\n        genre: this.addGameForm.genre,\n        played\n      };\n      this.addGame(payload);\n      this.initForm();\n    },\n    // MODAL 2\n    // a- Handle the form Submit after updating\n    onSubmitUpdate(e) {\n      e.preventDefault();\n      this.$refs.editGameModal.hide();\n      let played = false;\n      if (this.editForm.played[0]) played = true;\n      const payload = {\n        title: this.editForm.title,\n        genre: this.editForm.genre,\n        played\n      };\n      this.updateGame(payload, this.editForm.id);\n    },\n    // b- On reset method to reset items to default values\n    onReset(e) {\n      e.preventDefault();\n      this.$refs.addGameModal.hide();\n      this.initForm();\n    },\n    // 4 Update Alert Message \n    // Once the update is effective, we will get a message telling us that Game Updated, and display the list of games after the update\n    updateGame(payload, gameID) {\n      const path = `http://localhost:8000/games/${gameID}`;\n      axios.put(path, payload).then(() => {\n        this.getGames();\n        this.message = 'Game updated ‚öôÔ∏è!';\n        this.showMessage = true;\n      }).catch(error => {\n        console.error(error);\n        this.getGames();\n      });\n    },\n    // Handle Update Button \n    editGame(game) {\n      this.editForm = game;\n    },\n    // 5 Handle reset / cancel button click\n    onResetUpdate(e) {\n      e.preventDefault();\n      this.$refs.editGameModal.hide();\n      this.initForm();\n      this.getGames();\n    },\n    // Remove Game [ Delete Button ]\n    removeGame(gameID) {\n      const path = `http://localhost:5000/games/${gameID}`;\n      axios.delete(path).then(() => {\n        this.getGames();\n        this.message = 'Game Removed üóëÔ∏è!';\n        this.showMessage = true;\n      }).catch(error => {\n        // eslint-disable-next-line\n        console.error(error);\n        this.getGames();\n      });\n    },\n    // Handle Delete Button\n    deleteGame(game) {\n      this.removeGame(game.id);\n    }\n  },\n  created() {\n    this.getGames();\n  }\n};","map":{"version":3,"names":["axios","data","games","addGameForm","title","genre","played","editForm","id","message","methods","getGames","path","get","then","res","catch","error","console","addGame","payload","post","showMessage","log","initForm","onSubmit","e","preventDefault","$refs","addGameModal","hide","onSubmitUpdate","editGameModal","updateGame","onReset","gameID","put","editGame","game","onResetUpdate","removeGame","delete","deleteGame","created"],"sources":["src/components/Games.vue"],"sourcesContent":["\r\n<!--<template>\r\n  <div class=\"container\">\r\n    <p>games library</p>\r\n  </div>\r\n</template> -->\r\n\r\n<template>\r\n<div class=\"jumbotron vertical-center\">\r\n  <div class=\"container\">\r\n    <!-- Bootswatch -->\r\n   <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/sketchy/bootstrap.min.css\" integrity=\"sha384-RxqHG2ilm4r6aFRpGmBbGTjsqwfqHOKy1ArsMhHusnRO47jcGqpIQqlQK/kmGy9R\" crossorigin=\"anonymous\">\r\n <!-- <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/superhero/bootstrap.min.css\" integrity=\"sha384-HnTY+mLT0stQlOwD3wcAzSVAZbrBp141qwfR4WfTqVQKSgmcgzk+oP0ieIyrxiFO\" crossorigin=\"anonymous\"> -->\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-12 \">\r\n       <h1 class=\"text-center bg-primary text-white\" style=\"border-radius:10px\"> Games Library üïπÔ∏è </h1>\r\n        <hr><br>\r\n        \r\n         <!-- Alert -->\r\n        <b-alert variant=\"success\" v-if=\"showMessage\" show> {{ message }} </b-alert>\r\n        <!-- Add Game button -->\r\n        <button type=\"button\" class=\"btn btn-success btn-sm\" v-b-modal.game-modal>Add Game</button>\r\n        <br><br>\r\n        <!-- Add a bootstrap table -->\r\n        <table class=\"table table-hover\">\r\n          <thead>\r\n            <tr>\r\n              <!-- table header cells -->\r\n              <th scope=\"col\">Title</th>\r\n              <th scope=\"col\">Genre</th>\r\n              <th scope=\"col\">Played ?</th>\r\n              <th scope=\"col\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <!-- tr: table row -->\r\n            <tr v-for=\"(game, index) in games\" :key=\"index\">\r\n              <!-- td : table data -->\r\n              <td>{{game.title}}</td>\r\n              <td>{{game.genre}}</td>\r\n              <td>\r\n                <span v-if=\"game.played\">Yes</span>\r\n                <span v-else>No</span>\r\n              </td>\r\n              <td>\r\n                <div class=\"btn-group\" role=\"group\">\r\n                   <!-- 2 Handle update button click -->\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-info btn-sm\"\r\n                  v-b-modal.game-update-modal\r\n                  @click=\"editGame(game)\"> Update </button>\r\n                  <button type=\"button\" class=\"btn btn-danger btn-sm\" @click=\"deleteGame(game)\">Delete</button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        \r\n        <!-- Footer -->\r\n        <Footer class=\"bg-primary text-white text-center\" style=\"border-radius:10px\">Calto-Corp &copy;. All Rights Reserved 2023.</Footer>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Start of Modal 1 -->\r\n    <b-modal ref=\"addGameModal\"\r\n         id=\"game-modal\"\r\n         title=\"Add a new game\" hide-backdrop\r\n         hide-footer\r\n         >\r\n    <b-form @submit=\"onSubmit\" @reset=\"onReset\" class=\"w-100\">\r\n    <b-form-group id=\"form-title-group\"\r\n                  label=\"Title:\"\r\n                  label-for=\"form-title-input\">\r\n      <b-form-input id=\"form-title-input\"\r\n                    type=\"text\"\r\n                    v-model=\"addGameForm.title\"\r\n                    required\r\n                    placeholder=\"Enter title\">\r\n      </b-form-input>\r\n    </b-form-group>\r\n\r\n    <b-form-group id=\"form-genre-group\"\r\n                  label=\"Genre:\"\r\n                  label-for=\"form-genre-input\">\r\n          <b-form-input id=\"form-genre-input\"\r\n                        type=\"text\"\r\n                        v-model=\"addGameForm.genre\"\r\n                        required\r\n                        placeholder=\"Enter genre\">\r\n        </b-form-input>\r\n      </b-form-group>\r\n      \r\n      <b-form-group id=\"form-played-group\">\r\n            <b-form-checkbox-group v-model=\"addGameForm.played\" id=\"form-checks\">\r\n            <b-form-checkbox value=\"true\">Played?</b-form-checkbox>\r\n        </b-form-checkbox-group>\r\n      </b-form-group>\r\n\r\n      <b-button type=\"submit\" variant=\"outline-info\">Submit</b-button>\r\n      <b-button type=\"reset\" variant=\"outline-danger\">Reset</b-button>\r\n    </b-form>\r\n  </b-modal>\r\n  <!-- End of modal 1 -->\r\n\r\n\r\n  <!-- Start of Modal 2 -->\r\n  <b-modal ref=\"editGameModal\"\r\n         id=\"game-update-modal\"\r\n         title=\"Update\" hide-backdrop\r\n         hide-footer>\r\n  <b-form @submit=\"onSubmitUpdate\" @reset=\"onResetUpdate\" class=\"w-100\">\r\n    \r\n  <b-form-group id=\"form-title-edit-group\"\r\n                label=\"Title:\"\r\n                label-for=\"form-title-edit-input\">\r\n      <b-form-input id=\"form-title-edit-input\"\r\n                    type=\"text\"\r\n                    v-model=\"editForm.title\"\r\n                    required\r\n                    placeholder=\"Enter title\">\r\n      </b-form-input>\r\n    </b-form-group>\r\n\r\n    <b-form-group id=\"form-genre-edit-group\"\r\n                  label=\"Genre:\"\r\n                  label-for=\"form-genre-edit-input\">\r\n        <b-form-input id=\"form-genre-edit-input\"\r\n                      type=\"text\"\r\n                      v-model=\"editForm.genre\"\r\n                      required\r\n                      placeholder=\"Enter genre\">\r\n        </b-form-input>\r\n      </b-form-group>\r\n      \r\n    <b-form-group id=\"form-played-edit-group\">\r\n      <b-form-checkbox-group v-model=\"editForm.played\" id=\"form-checks\">\r\n        <b-form-checkbox value=\"true\">Played?</b-form-checkbox>\r\n      </b-form-checkbox-group>\r\n    </b-form-group>\r\n\r\n    <b-button-group>\r\n      <b-button type=\"submit\" variant=\"outline-info\">Update</b-button>\r\n      <b-button type=\"reset\" variant=\"outline-danger\">Cancel</b-button>\r\n    </b-button-group>\r\n  </b-form>\r\n</b-modal>\r\n<!-- end of modal 2 -->\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      games: [],\r\n      addGameForm: {\r\n        title: '',\r\n        genre: '',\r\n        played: [],\r\n      },\r\n      editForm: {\r\n      id: '',\r\n      title: '',\r\n      genre: '',\r\n      played: [],\r\n      },\r\n    };\r\n  },\r\n\r\n  message:'',\r\n\r\nmethods: {\r\n    // 1 GET METHOD\r\n    getGames() {\r\n      const path = 'http://localhost:8000/games';\r\n      axios.get(path)\r\n        .then((res) => {\r\n          this.games = res.data.games;\r\n        })\r\n        .catch((error) => {\r\n          console.error(error);\r\n        });\r\n    },\r\n\r\n    // 2 Add Game Button\r\n    addGame(payload) {\r\n      const path = 'http://localhost:8000/games';\r\n      axios.post(path, payload)\r\n        .then(() => {\r\n          this.getGames();\r\n          \r\n          // for message alert\r\n          this.message = 'Game added üïπÔ∏è !';\r\n          \r\n          // to show message when game is added\r\n          this.showMessage = true;\r\n  \r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          this.getGames();\r\n        });\r\n    },\r\n\r\n     // 5 initForm - add ediForm after the update method\r\n     initForm() {\r\n        this.addGameForm.title = '';\r\n        this.addGameForm.genre = '';\r\n        this.addGameForm.played = [];\r\n        this.editForm.id = '';\r\n        this.editForm.title = '';\r\n        this.editForm.genre = '';\r\n        this.editForm.played = [];\r\n      }, \r\n\r\n    // 3 Submit form validator in the template @submit=\"onSubmit\"  \r\n    onSubmit(e) {\r\n      e.preventDefault();\r\n      this.$refs.addGameModal.hide();\r\n      let played = false;\r\n      if (this.addGameForm.played[0]) played = true;\r\n      const payload = {\r\n        title: this.addGameForm.title,\r\n        genre: this.addGameForm.genre,\r\n        played, \r\n      };\r\n      this.addGame(payload);\r\n      this.initForm();\r\n    },\r\n\r\n    \r\n  // MODAL 2\r\n  // a- Handle the form Submit after updating\r\n    onSubmitUpdate(e) {\r\n    e.preventDefault();\r\n    this.$refs.editGameModal.hide();\r\n    let played = false;\r\n    if (this.editForm.played[0]) played = true;\r\n    const payload = {\r\n      title: this.editForm.title,\r\n      genre: this.editForm.genre,\r\n      played,\r\n    };\r\n    this.updateGame(payload, this.editForm.id);\r\n  },\r\n\r\n  // b- On reset method to reset items to default values\r\n    onReset(e) {\r\n      e.preventDefault();\r\n      this.$refs.addGameModal.hide();\r\n      this.initForm();\r\n    },\r\n\r\n// 4 Update Alert Message \r\n// Once the update is effective, we will get a message telling us that Game Updated, and display the list of games after the update\r\nupdateGame(payload, gameID) {\r\n  const path = `http://localhost:8000/games/${gameID}`;\r\n  axios.put(path, payload)    \r\n    .then(() => {\r\n      this.getGames();\r\n      this.message = 'Game updated ‚öôÔ∏è!';\r\n      this.showMessage =  true;\r\n    })\r\n    .catch((error) => {\r\n      console.error(error);\r\n      this.getGames();\r\n    });\r\n},\r\n\r\n // Handle Update Button \r\neditGame(game) {\r\n  this.editForm = game;\r\n},\r\n\r\n// 5 Handle reset / cancel button click\r\nonResetUpdate(e) {\r\n  e.preventDefault();\r\n  this.$refs.editGameModal.hide();\r\n  this.initForm();\r\n  this.getGames(); \r\n},\r\n\r\n// Remove Game [ Delete Button ]\r\nremoveGame(gameID) {\r\n  const path = `http://localhost:5000/games/${gameID}`;\r\n  axios.delete(path)\r\n    .then(() => {\r\n      this.getGames();\r\n      this.message = 'Game Removed üóëÔ∏è!';\r\n      this.showMessage = true;\r\n    })\r\n    .catch((error) => {\r\n      // eslint-disable-next-line\r\n      console.error(error);\r\n      this.getGames();\r\n    });\r\n},\r\n// Handle Delete Button\r\ndeleteGame(game) {\r\n  this.removeGame(game.id);\r\n},\r\n\r\n  },\r\n  created() {\r\n    this.getGames(); \r\n  },\r\n};\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}